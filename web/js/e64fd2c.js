$(document).ready(function(){$.ajaxSetup({cache:false})});function populateEvent(b){var a=b.event_type;var d=a==1?$("#birthdays"):(a==4?$("#anniversaries"):null);if(d){var c=$("<div/>").attr("id",b.id).html(b.eventdate);$(d).append(c)}}function goToUserPage(a){var b="www.wishlist.com/User";window.location=b}function fillPic(b){var a=$(b).children("span.picContainer");var c=$(b).children("label").html();fillGoogleImage(c,a)}function fillGoogleImage(e,b){var f="AIzaSyBHtgh3ihz8AHCBw0LkEi_Snl96elJCSpA";var a="015228749791243702187:ctequifxi_s";var d="googleQryHndlr";var c="https://www.googleapis.com/customsearch/v1?key="+f+"&cx="+a+"&q="+e+"&searchType=image&num=1";$.get(c,function(g){fillPicContainer(b,g)},"json")}function fillPicContainer(b,a){b.html(function(c,f){var d="";if(a.items.length>0){var e=a.items[0];d+="<img class='itemThumb' src='"+e.link+"' />"}return d})};
var wishlist_div="#div_wishlist_div";$(document).ready(function(){setupWishlist();checkGranted()});function setupWishlist(){$("#wishlist_bs_table").tablecloth({theme:"default",striped:true,sortable:true,bordered:true});$("#addItemButton").button({icons:{primary:"ui-icon-plusthick"},text:false}).click(function(a){a.preventDefault();$("#amazonSearchDialog").dialog("open")});$("#addItemButton").css("height","25");$(".purchaseBtn").on("click",clickedItem)}function deleteLoadedItem(){confirm("Are you sure you want to delete this wish?").then(function(c){if(c==1){var b=$("#editItemDialog #itemId").val();var a={itemId:b};delFromWishlist(a,setupWishlist)}})}function clickedItem(){selected_itemId=$(this).attr("id");getItemInfo(selected_itemId,function(a){openAddToShoppingListDialog(a)})}function getItemInfo(b,a){$.ajax({type:"POST",url:Routing.generate("WishlistCoreBundle_getItemInfo"),data:{id:b}}).success(function(c){if(c){a(c)}})}function onUpdateWishItemClick(b){var a=Routing.generate("WishlistListBundle_wishlistUpdate");confirm("Are you sure you want to save these changes?").then(function(d){if(d==1){var c=getItemDialogObj(b);submitTheWish(c,a,onCompleteUpdateItemEvent,b)}})}function onCompleteUpdateItemEvent(a,b){switch(b.toLowerCase()){case"success":setupWishlist();popupMessage("Yay!","The item has been updated!");break;default:popupMessage("Sorry!","The item could not be updated. Please try again later.");break}}function checkGranted(){var a=getIds($("#grantedWishes div"));if(a.length>0){var b="Your wishes have been granted! The following items have been removed from your wishlist:";b+=$("#grantedWishes").html();popupMessage("Wishes Granted",b,function(){var c=Routing.generate("WishlistListBundle_grantedItemNotified");ajaxPost({notifiedItems:a},c)})}};