<?php

namespace Wishlist\CoreBundle\Repository;

use Doctrine\ORM\EntityRepository;
use Wishlist\CoreBundle\Entity\WishlistUser;
use Wishlist\CoreBundle\Entity\WishlistItem;
use Wishlist\CoreBundle\Entity\Purchase;

/**
 * PurchaseRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class PurchaseRepository extends EntityRepository
{
    
    public function newPurchase(WishlistUser $user, WishlistItem $item)
    {
        $em = $this->getEntityManager();
        
        $newPurchase = new Purchase();
        $newPurchase->setUser($user);
        $newPurchase->setItem($item);
        $em->persist($newPurchase);
        $em->flush();
    }
}